<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PO Detail ¬∑ Topnotch ‚Äì MFG</title>
    <link rel="stylesheet" href="/static/css/app.css" />
    <style>
      .page-header-row {
        display: flex;
        align-items: center; /* ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
        gap: 12px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á item */
      }

      .page-header-row .page-title {
        margin: 0;
      }

      .page-header-row .subtitle {
        margin: 0;
        color: #64748b;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="app">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="logo">
          <span class="logo-badge">TN</span>
          <span>Topnotch ‚Äì MFG</span>
        </div>
        <div id="navSlot" data-nav-slot></div>
      </aside>

      <!-- Main -->
      <main class="main">
        <div class="topbar">
          <div class="search">
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="currentColor"
              aria-hidden="true"
            >
              <path
                d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
              />
            </svg>
            <input
              id="globalSearch"
              type="search"
              placeholder="Search PO / Lot / Tracking‚Ä¶"
            />
          </div>

          <a class="btn" href="/static/pos.html">‚Üê Back</a>
        </div>

        <section class="page-header">
          <div class="page-header-row">
            <h2 class="page-title">üì¶ PO Detail</h2>
            <!-- @#$ ‡πÅ‡∏™‡∏î‡∏á PO id, number  -->
            <p class="subtitle" id="subTitle"></p>
            <!-- @#$ ‡∏õ‡∏∏‡πã‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î section ‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å‡πÅ‡∏™‡∏î‡∏á Edit, ‡∏™‡πà‡∏ß‡∏ô Cancel ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ù‡∏ô js-->
            <button class="btn ghost" id="btnHeaderEdit" type="button">
              Edit PO
            </button>
          </div>
        </section>

        <!-- ‡∏ã‡πà‡∏≠‡∏ô section header ‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å -->
        <section id="page-po-detail" hidden>
          <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö Edit / Cancel -->

          <div class="card">
            <div class="grid" style="margin-top: 8px">
              <div class="col-4">
                <label>PO Number</label>
                <input id="po_no" />
              </div>

              <div class="col-4">
                <label>Customer</label>
                <input
                  id="po_cust"
                  type="text"
                  autocomplete="off"
                  inputmode="latin"
                  placeholder="Customer code or name"
                  style="text-transform: uppercase"
                />
                <div class="hint">
                  <a id="link_cust" href="#" target="_self">Customer</a>
                </div>
                <div
                  class="hint"
                  id="custNameHint"
                  style="color: #64748b"
                ></div>
              </div>

              <div class="col-12">
                <label>Description</label>
                <input id="po_desc" />
              </div>

              <div class="col-12">
                <button class="btn" id="btnSave" type="button">Save</button>
                <button class="btn ghost" id="btnReset" type="button">
                  Reset
                </button>
                <button
                  class="btn danger"
                  id="btnDelete"
                  type="button"
                  style="float: right"
                >
                  Delete
                </button>
                <span class="hint" id="hint"></span>
              </div>
            </div>
          </div>

          <div id="errorBox" class="hint" style="display: none"></div>
        </section>

        <!-- ===== PO Lines (inline edit) ===== -->
        <section id="po-lines" class="card" style="margin-top: 16px">
          <div class="table-wrap">
            <table class="table" id="tblLines">
              <thead>
                <tr>
                  <th style="width: 60px; text-align: right">No.</th>
                  <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° -->
                  <th style="width: 140px">Part No</th>
                  <th style="width: 80px">Rev</th>
                  <th style="width: 110px; text-align: right">Qty</th>
                  <th style="width: 120px; text-align: right">Unit Price</th>
                  <th style="width: 120px">Due Date</th>
                  <th>Notes</th>
                  <th style="width: 180px; text-align: right">
                    <div
                      style="
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        gap: 8px;
                      "
                    >
                      <span>Action</span>
                      <button class="btn" id="btnAddLine" type="button">
                        + Add Line
                      </button>
                    </div>
                  </th>
                </tr>
              </thead>
              <tbody id="tblLinesBody">
                <tr>
                  <td colspan="7" class="empty">No lines</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </main>
    </div>

    <div class="toast" id="toast" role="status" aria-live="polite">
      <span id="toastText"></span>
    </div>

    <script type="module" src="/static/js/nav-loader.js"></script>
    <script
      type="module"
      src="/static/js/page-pos-detail.js?v=inline_header001"
    ></script>
  </body>
</html>
